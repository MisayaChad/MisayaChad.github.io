---
title: 问题
date: 2018-08-01 19:33:30
categories: 宝典
---
Java题

MyBatis和Hibernate的区别及应用场景？
都是orm框架
MyBatis：更轻量级，对于复杂的sql查询更好，基于sql
Hibernate： 重量级，移植性好不依赖于sql，拥有更好的缓存机制、支持第三方缓存

Redis存储和数据库存储的区别？
Redis：是一个内存数据库，存储位置在内存，内存访问相比硬盘更快，可存储的数据类型更丰富，可持久化，数据量小使用Redis存储比Memcached存储性能好
Memcached：存储位置在内存，支持key-value存储，单次数据量大于10k性能比Redis存储好
传统数据库（mysql、pg）： 存储位置在硬盘

Android四大组件？深入理解

MVC、MVP、MVVM优缺点及比较

Android线程间通信？
Handler
runOnUiThread
AsyncTask
View.post

Android内存泄漏场景？
做app升级时需调用DownloadMannger Cursor查下载进度，部分手机在查询过程中需要关闭Cursor
使用WebView显示网页，在WebView需要销毁时，先让WebView显示null，然后删除WebView，最后销毁WebView

Universal-Image-Loader工作流程？
下载图片——将图片缓存在磁盘中——解码图片成为Bitmap——Bitmap的预处理——缓存在Bitmap内存中——Bitmap的后期处理——显示Bitmap

Volley原理及流程？
![](/images/volley原理及流程.jpg)
使用建造者模式、工厂、单例

OKHttp原理？
1. OkhttpClient 实现了Call.Fctory,负责为Request 创建 Call；
2. RealCall 为Call的具体实现，其enqueue() 异步请求接口通过Dispatcher()调度器利用ExcutorService实现，而最终进行网络请求时和同步的execute()接口一致，都是通过 getResponseWithInterceptorChain() 函数实现
3. getResponseWithInterceptorChain() 中利用 Interceptor 链条，责任链模式 分层实现缓存、透明压缩、网络 IO 等功能；最终将响应数据返回给用户

Retrofit原理？
![](/images/Retrofit工作流程原理图.jpg)
Retrofit对网络请求参数的封装，OKHttp才是真正的网络请求
Retrofit2.0 内置OKHttp
Retrofit采用了外观模式统一调用创建网络请求接口实例和网络请求参数配置的方法，具体细节是：
动态创建网络请求接口的实例（代理模式 - 动态代理）
创建 serviceMethod 对象（建造者模式 & 单例模式（缓存机制））
对 serviceMethod 对象进行网络请求参数配置：通过解析网络请求接口方法的参数、返回值和注解类型，从Retrofit对象中获取对应的网络请求的url地址、网络请求执行器、网络请求适配器 & 数据转换器。（RxjavaCallAdapter使用的是策略模式）
对 serviceMethod 对象加入线程切换的操作，便于接收数据后通过Handler从子线程切换到主线程从而对返回数据结果进行处理（装饰模式）
最终创建并返回一个OkHttpCall类型的网络请求对象

HTTPS原理？
HTTPS是在HTTP请求基础上增加安全加密传输的协议，增加CA证书用于效验安全性
Andoird 4.4以下系统未开启HTTPS TLS1.1和TLS1.2协议的支持
https单向验证流程
![](/images/https单向验证流程.jpg)
https双向验证流程
![](/images/https双向验证流程.jpg)
refrence: https://zhuanlan.zhihu.com/p/27040041?utm_medium=social&utm_source=weibo

Socket原理？

android studio3.0 的bulid gradle中就出现了api 和implementation区别
api和implementation 替代了compile
api 提供外部依赖访问
implementation 只能在内部依赖使用库

Binder机制及原理？

屏幕适配？

orm框架的使用？GreenDao、Room、ormLite区别及原理？
ormLite：采用反射的方式生成sql，造成性能损耗，慢
GreenDao：支持数据库加密，和原生sqlite类似，较快
Room：采用注解，编译时检测sql语句，更快，支持livedata
refrence: http://andyken.github.io/2017/10/26/Android%E6%B5%81%E8%A1%8CORM%E6%A1%86%E6%9E%B6%E6%80%A7%E8%83%BD%E5%AF%B9%E6%AF%94%E5%8F%8ARoom%E8%B8%A9%E5%9D%91%E6%80%BB%E7%BB%93/

dagger2、butterknife区别？
dagger2、butterknife两者都是依赖注入，预编译注解
butterknife只能用于视图之间的绑定，替代findViewByid
dagger2可以在moudel中注入任意(视图、类、接口)
预编译注解比运行时注解性能好，应为运行时注解采用了反射消耗了性能
